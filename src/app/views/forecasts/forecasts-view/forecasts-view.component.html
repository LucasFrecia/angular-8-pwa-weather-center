<div class="container">

    <img fxFlex
         src="./assets/forecasts-mountain-desktop.gif"
         src.xs="./assets/main-mobile.gif"
         src.sm="./assets/main-mobile.gif"
         ngClass="desktop"
         ngClass.xs="mobile"
         ngClass.sm="mobile"
         alt="weather-central main image"
         data-test-id="main-image">

    <div ngClass="desktop-container"
         ngClass.xs="mobile-container"
         ngClass.sm="mobile-container"
         fxFlex
         fxLayoutAlign="space-evenly center"
         fxLayoutGap.sm="2%"
         fxLayoutGap.xs="2%"
         fxLayoutGap.md="4%"
         fxLayout="row"
         fxLayout.sm="column"
         fxLayout.xs="column"
         fxLayout.md="column"
         @enter-item>

        <mat-card fxFlex
                  fxLayout="column">
            <h1> {{ (selectedCity$ | async)?.name }} Now </h1>
            <div fxFlex
                 fxLayoutAlign="center center">
                <h2> Description </h2>
            </div>
            <div fxFlex
                 fxLayout="row"
                 fxLayoutAlign="space-around center">
                <div>
                    {{ (selectedCity$ | async)?.weather[0].description | titlecase }}
                </div>
                <div>
                    <img src="http://openweathermap.org/img/wn/{{(selectedCity$ | async)?.weather[0].icon}}@2x.png">
                </div>
            </div>
            <div fxFlex
                 fxLayout="row"
                 fxLayoutAlign="space-around center">
                <div>
                    Temperature
                </div>
                <div>
                    {{ (selectedCity$ | async)?.main.temp }}
                </div>
            </div>
            <div fxFlex
                 fxLayout="row"
                 fxLayoutAlign="space-around center">
                <div>
                    Wind Strength
                </div>
                <div>
                    {{ (selectedCity$ | async)?.wind.speed }}
                </div>
            </div>
        </mat-card>

        <mat-card fxFlex="55"
                  fxLayout="column">
            <h1> Five Day Forecast </h1>

            <div fxLayout="row"
                 fxLayoutAlign="space-around center">
                <h3 fxFlex="10">
                    Time
                </h3>
                <h3 fxFlex="10">
                    Description
                </h3>
                <h3 fxFlex="7"></h3>
                <h3 fxFlex="10">
                    Wind
                </h3>
                <h3 fxFlex="10">
                    Temp
                </h3>
                <h3 fxFlex="10">
                    Min Temp
                </h3>
                <h3 fxFlex="10">
                    Max Temp
                </h3>
            </div>

            <cdk-virtual-scroll-viewport itemSize="50"
                                         fxFlex>
                <div *cdkVirtualFor="let item of (selectedCityForecast$ | async)?.list"
                     fxLayoutAlign="space-around center"
                     class="virtual-scroll-row">
                    <div fxFlex="12">
                        <small>{{ (item.dt_txt | date:'fullDate').split(',')[0] }} {{ item.dt_txt | date:'shortTime' }}</small>
                    </div>
                    <div fxFlex="8">
                        <small> {{ item.weather[0].description | titlecase }} </small>
                    </div>
                    <img fxFlex="10"
                         src="http://openweathermap.org/img/wn/{{item.weather[0].icon}}@2x.png">
                    <div fxFlex="10">
                        {{ item.wind.speed }}
                    </div>
                    <div fxFlex="10">
                        {{ item.main.temp }}
                    </div>
                    <div fxFlex="10">
                        {{ item.main.temp_min }}
                    </div>
                    <div fxFlex="10">
                        {{ item.main.temp_max }}
                    </div>
                </div>
            </cdk-virtual-scroll-viewport>
        </mat-card>
    </div>

</div>